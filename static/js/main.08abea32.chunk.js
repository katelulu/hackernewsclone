(this["webpackJsonphacker-news-pag"]=this["webpackJsonphacker-news-pag"]||[]).push([[0],{10:function(e,a,s){},11:function(e,a,s){"use strict";s.r(a);var t=s(1),c=s(3),r=s.n(c),n=s(0);var i=function(){return Object(n.jsxs)("div",{className:"navbar",children:[Object(n.jsx)("div",{className:"navbar-left",children:Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{className:"logo",children:"Y"}),Object(n.jsx)("li",{className:"navbar-title",children:"Hacker News"}),Object(n.jsx)("li",{className:"navbar-border",children:"news"}),Object(n.jsx)("li",{className:"navbar-border",children:"past"}),Object(n.jsx)("li",{className:"navbar-border",children:"comments"}),Object(n.jsx)("li",{className:"navbar-border",children:"ask"}),Object(n.jsx)("li",{className:"navbar-border",children:"show"}),Object(n.jsx)("li",{className:"navbar-border",children:"jobs"}),Object(n.jsx)("li",{children:"submit"})]})}),Object(n.jsx)("div",{className:"navbar-right",children:Object(n.jsx)("p",{children:"login"})})]})};var l=function(e){let{number:a,title:s,points:t,hours:c,author:r,comments:i}=e;return Object(n.jsxs)("div",{className:"list-body",children:[Object(n.jsxs)("div",{children:[a,s]}),Object(n.jsxs)("div",{className:"list-second-row",children:[t," points by ",r,"\xa0",c," hours ago |\xa0hide | ",i,"comments"]})]})};function o(e){let{setSearchParams:a,searchParams:s,isLoading:t,setInputVal:c,setSearchQuery:r,maxPage:i}=e;return Object(n.jsxs)("div",{className:"Pagination",children:[Object(n.jsx)("button",{disabled:t,onClick:()=>{c(""),a({searchQuery:"",page:0})},children:"Reset"}),Object(n.jsx)("button",{disabled:0===s.page||t,onClick:()=>{a({...s,page:s.page-1})},children:"Prev"}),Object(n.jsx)("button",{disabled:s.page===i-1||t,onClick:()=>{a({...s,page:s.page+1})},children:"Next"})]})}const j="https://hn.algolia.com/api/v1/search?";s(9),s(10);function b(){const{isLoading:e,inputVal:a,search:s,error:c,infoList:r,setSearchParams:b,searchParams:h,setInputVal:d,maxPage:u}=function(){const[e,a]=Object(t.useState)([]),[s,c]=Object(t.useState)({page:0,searchQuery:""}),[r,n]=Object(t.useState)(0),[i,l]=Object(t.useState)(""),[o,b]=Object(t.useState)(""),[h,d]=Object(t.useState)(!0),[u,m]=Object(t.useState)(!1);function O(){const{searchQuery:e,page:t}=s,c=e?"".concat(j,"query=").concat(e,"&page=").concat(t):"".concat(j,"tags=front_page&page=").concat(t);d(!0),fetch(c).then((e=>e.json())).then((e=>{d(!1),a(e.hits),n(e.nbPages)})).catch((()=>m(!0)))}return Object(t.useEffect)(O,[s]),{isLoading:h,searchQuery:i,inputVal:o,setInputVal:b,search:()=>{""!==o.trim()&&o.length>2?c({...s,page:0,searchQuery:o}):alert("Searchbar should be at least 3 chars")},searchParams:s,error:u,infoList:e,setSearchQuery:l,setSearchParams:c,loadNews:O,maxPage:r}}();return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(i,{}),e?Object(n.jsx)("div",{className:"loadingFlag",children:"Loading.."}):c?Object(n.jsxs)("div",{className:"errorFlag",children:[Object(n.jsx)("p",{children:"An Error occured."}),Object(n.jsx)("button",{children:"Go back"})]}):r.length?Object(n.jsx)("div",{className:"list-body",children:r.map(((e,a)=>Object(n.jsx)(l,{number:a+1+". ",title:e.title,points:e.points,author:e.author,comments:e.num_comments},a)))}):Object(n.jsx)("div",{className:"loadingFlag",children:"No result matches the query"}),Object(n.jsxs)("div",{className:"search-actions",children:[Object(n.jsx)("p",{children:"Search:"}),Object(n.jsx)("input",{onChange:e=>d(e.target.value),value:a,onKeyUp:e=>{13===e.keyCode&&s()}}),Object(n.jsx)("button",{disabled:a.length<3,onClick:s,children:"Search"})]}),Object(n.jsx)(o,{setSearchParams:b,searchParams:h,isLoading:e,setInputVal:d,maxPage:u})]})}const h=document.getElementById("root");r.a.render(Object(n.jsx)(t.StrictMode,{children:Object(n.jsx)(b,{})}),h)},9:function(e,a,s){}},[[11,1,2]]]);
//# sourceMappingURL=main.08abea32.chunk.js.map